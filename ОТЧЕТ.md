# Отчет о выполнении курсового проекта
## "File Analyzer - Определение и восстановление расширений файлов"

### Выполнил: [Ваше ФИО]
### Группа: [Ваша группа]
### Дата: 14 декабря 2024

---

## 1. Описание проекта

Разработано Java-приложение для определения типа файлов по их содержимому и восстановления утерянных расширений. Приложение использует базу данных "магических чисел" для идентификации форматов файлов.

### Основные возможности:
- Анализ файлов по содержимому (не по расширению)
- Определение 6 типов файлов: PNG, JPEG, PDF, MP3, MP4, ZIP, TXT
- Восстановление правильных расширений файлов
- Графический интерфейс пользователя
- Логирование всех операций
- Fallback механизм для неизвестных файлов (определение как TXT)

---

## 2. Примеры работы приложения

### 2.1 Положительные примеры:

#### Пример 1: Анализ JPEG файла без расширения
**Действие:** Выбран файл `test-image` (без расширения)
**Результат:** Приложение определило тип как "jpg"
**Объяснение:** Программа прочитала магические числа `FF D8 FF E0` и корректно идентифицировала JPEG формат

#### Пример 2: Восстановление расширения MP3 файла
**Действие:** Выбран файл `test-music` и выполнено восстановление
**Результат:** Создан файл `test-music.mp3` с правильным расширением
**Объяснение:** После определения типа по магическим числам `49 44 33` создана копия с корректным расширением

#### Пример 3: Анализ PDF документа
**Действие:** Выбран файл `test-pdf-document.pdf`
**Результат:** Тип определен как "pdf"
**Объяснение:** Магические числа `25 50 44 46` (%PDF) корректно распознаны

### 2.2 Негативные примеры:

#### Пример 1: Текстовый файл без магических чисел
**Действие:** Выбран файл `test-text.txt`
**Результат:** Тип определен как "txt" (fallback)
**Объяснение:** У текстовых файлов нет уникальных магических чисел, поэтому применяется fallback механизм

#### Пример 2: Неизвестный файл
**Действие:** Выбран файл `test-unknown`
**Результат:** Тип определен как "txt"
**Объяснение:** Для файлов с неопознанными магическими числами применяется TXT fallback

---

## 3. Архитектура приложения

### 3.1 Блок-схема алгоритма
См. файл: `docs/блок-схема.png`

Алгоритм работы:
1. Пользователь выбирает файл
2. Приложение читает первые 20 байт
3. Поиск совпадений в базе магических чисел
4. Возврат найденного типа или TXT как fallback
5. Отображение результата пользователю

### 3.2 UML диаграмма классов
См. файл: `docs/диаграмма-классов.png`

Основные классы:
- **App** - точка входа приложения
- **MainController** - контроллер MVC архитектуры
- **DatabaseService** - работа с базой типов файлов
- **FileAnalyzerService** - анализ файлов
- **FileRestoreService** - восстановление расширений
- **FileType, MagicNumber** - модели данных

### 3.3 UML диаграмма прецедентов
См. файл: `docs/диаграмма-прецедентов.png`

Функциональность для пользователя:
- Выбор файла для анализа
- Анализ типа файла
- Восстановление расширения
- Просмотр информации о файле

---

## 4. Использованные технологии

### 4.1 Сторонние библиотеки и их обоснование:

#### JavaFX 17.0.6
**Необходимость:** Создание современного графического интерфейса
**Эффективность:** Предоставляет богатые возможности UI, поддержку FXML, простоту разработки

#### Log4j 2.20.0
**Необходимость:** Профессиональное логирование операций
**Эффективность:** Высокая производительность, гибкая конфигурация, запись в файл и консоль

#### Jackson 2.15.2
**Необходимость:** Работа с JSON базой данных типов файлов
**Эффективность:** Быстрая сериализация/десериализация, простота использования

#### JUnit 5.9.2
**Необходимость:** Автоматизированное тестирование
**Эффективность:** Современный подход к unit-тестированию, богатые возможности assertions

#### Gradle
**Необходимость:** Автоматизация сборки проекта
**Эффективность:** Управление зависимостями, создание JAR файлов, запуск тестов

---

## 5. Список источников и заимствований

### 5.1 Официальная документация:
1. Oracle JavaFX Documentation - https://openjfx.io/javadoc/17/
2. Apache Log4j 2 Manual - https://logging.apache.org/log4j/2.x/manual/
3. Jackson Documentation - https://github.com/FasterXML/jackson-docs
4. Gradle User Guide - https://docs.gradle.org/current/userguide/
5. JUnit 5 User Guide - https://junit.org/junit5/docs/current/user-guide/

### 5.2 Справочные материалы:
6. File Signatures Database - https://www.filesignatures.net/
7. Magic Numbers Reference - https://en.wikipedia.org/wiki/List_of_file_signatures
8. Java Stream API Guide - https://docs.oracle.com/javase/8/docs/api/java/util/stream/

### 5.3 Заимствования:
- Все классы написаны самостоятельно
- Использованы стандартные паттерны Java/JavaFX
- Магические числа взяты из открытых справочников
- Архитектура основана на принципах MVC

---

## 6. Результаты тестирования

### 6.1 Unit-тесты:
- DatabaseServiceTest - тестирование загрузки и поиска типов файлов
- FileAnalyzerServiceTest - тестирование анализа файлов
- FileRestoreServiceTest - тестирование восстановления расширений

### 6.2 Интеграционное тестирование:
Проведено тестирование на реальных файлах различных форматов:
- ✅ PNG файлы - определяются корректно
- ✅ JPEG файлы - определяются корректно  
- ✅ PDF файлы - определяются корректно
- ✅ MP3 файлы - определяются корректно
- ✅ MP4 файлы - определяются корректно
- ✅ ZIP файлы - определяются корректно
- ✅ TXT файлы - применяется fallback

### 6.3 JAR файл:
Создан исполняемый JAR файл `FileAnalyzerProject-1.0-SNAPSHOT-all.jar`
Тестирование показало корректную работу при запуске из командной строки.

---

## 7. Выводы

Разработанное приложение полностью соответствует техническому заданию:
- Реализован анализ файлов по содержимому
- Создана база данных магических чисел
- Реализовано восстановление расширений
- Создан графический интерфейс
- Добавлено логирование и тестирование
- Проект собирается через Gradle
- Сгенерирована JavaDoc документация

Приложение готово к практическому использованию и демонстрирует применение современных технологий Java разработки.

---

**Ссылка на репозиторий:** https://github.com/Mmerr31/FileExtensionAnalyzer